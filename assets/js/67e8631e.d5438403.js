"use strict";(self.webpackChunkedu_magnetism_game=self.webpackChunkedu_magnetism_game||[]).push([[5806],{2813:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>h,contentTitle:()=>u,default:()=>x,frontMatter:()=>m,metadata:()=>i,toc:()=>p});const i=JSON.parse('{"id":"magnetism/mini-game","title":"Mini Game","description":"Explore Magnetism by playing!!","source":"@site/docs/magnetism/04_mini-game.mdx","sourceDirName":"magnetism","slug":"/magnetism/mini-game","permalink":"/edu-games-front/docs/magnetism/mini-game","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/magnetism/04_mini-game.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Mini Game","description":"Explore Magnetism by playing!!","sidebar_position":4},"sidebar":"physicsSidebar","previous":{"title":"Glossary","permalink":"/edu-games-front/docs/magnetism/glossary"},"next":{"title":"Electromagnetism \ud83e\uddf2+\u26a1","permalink":"/edu-games-front/docs/category/electromagnetism-"}}');var s=t(4848),a=t(8453),o=t(5363),r=t(6540),l=t(9912),c=t(1480);const d=e=>{let{canvasW:n,canvasH:i}=e;const a=(0,r.useRef)(null),[o,d]=(0,r.useState)(!0),m=(0,l.j)(),u=(0,l.G)((e=>e.game));return(0,r.useEffect)((()=>{if(null===a.current||"undefined"==typeof window)return;(async()=>{try{d(!0);const[e,s]=await Promise.all([t.e(7953).then(t.t.bind(t,7953,23)),t.e(2046).then(t.t.bind(t,2046,23))]),o=e.default,r=s.default,{Engine:l,World:h,Bodies:p,Body:g,Mouse:x,MouseConstraint:b}=r,{createMagnet:f}=await Promise.all([t.e(2046),t.e(9705)]).then(t.bind(t,9705)),{createIronBall:y}=await Promise.all([t.e(2046),t.e(1540)]).then(t.bind(t,1540)),{createMaze:v}=await Promise.all([t.e(2046),t.e(1064)]).then(t.bind(t,1064)),{applyMagneticForces:j}=await Promise.all([t.e(2046),t.e(6996)]).then(t.bind(t,6996)),{checkWinCondition:M}=await t.e(9570).then(t.bind(t,9570)),{renderUI:w}=await t.e(4165).then(t.bind(t,4165)),E=new o((e=>{let t,s,a,o,r,d,g,E=[],k=0;e.setup=()=>{e.createCanvas(n,i),o=l.create({gravity:{x:0,y:0}}),r=o.world,d=x.create(e.drawingContext.canvas),d.pixelRatio=e.pixelDensity(),g=b.create(o,{mouse:d,constraint:{stiffness:.2,render:{visible:!1}}}),E=[f(e,r,100,100,"north"),f(e,r,n-100,100,"south"),f(e,r,100,i-100,"west"),f(e,r,n-100,i-100,"east")],t=y(e,r,n/2,i/2,15),s=v(e,r,n,i),a=p.rectangle(n-50,i-50,30,30,{isStatic:!0,isSensor:!0,render:{fillStyle:"green"}}),h.add(r,[a,g]),k=e.millis()},e.draw=()=>{if(u.isPlaying&&!u.gameWon&&l.update(o),e.background(240),e.rectMode(e.CENTER),e.push(),e.fill(100),e.noStroke(),s.forEach((n=>{e.rect(n.position.x,n.position.y,n.bounds.max.x-n.bounds.min.x,n.bounds.max.y-n.bounds.min.y)})),e.pop(),e.push(),e.fill(0,255,0),e.rect(a.position.x,a.position.y,a.bounds.max.x-a.bounds.min.x,a.bounds.max.y-a.bounds.min.y),e.pop(),e.push(),e.fill(150),e.ellipse(t.position.x,t.position.y,2*t.circleRadius),e.pop(),E.forEach((n=>{e.push(),e.fill("north"===n.polarity?e.color(255,0,0):e.color(0,0,255)),e.rect(n.position.x,n.position.y,n.bounds.max.x-n.bounds.min.x,n.bounds.max.y-n.bounds.min.y),e.stroke("north"===n.polarity?e.color(255,0,0,50):e.color(0,0,255,50)),e.noFill();for(let t=1;t<=3;t++)e.ellipse(n.position.x,n.position.y,n.bounds.max.x-n.bounds.min.x+30*t);e.pop()})),u.isPlaying&&!u.gameWon&&(j(t,E,r),M(t,a))){const n=(e.millis()-k)/1e3;m((0,c.Iz)({score:Math.max(1e3-10*Math.floor(n),100),timeElapsed:n}))}const n={...u,timeElapsed:u.isPlaying&&!u.gameWon?(e.millis()-k)/1e3:u.timeElapsed};w(e,n)}}),a.current);return d(!1),()=>E.remove()}catch(e){console.error("Failed to load game libraries:",e),d(!1)}})()}),[n,i,m,u]),(0,s.jsx)("div",{ref:a,tabIndex:0,style:{outline:"none"},children:o&&(0,s.jsx)("div",{children:"Loading game..."})})},m={title:"Mini Game",description:"Explore Magnetism by playing!!",sidebar_position:4},u="Mini Game: Magnetic Maze \ud83e\udde9",h={},p=[{value:"Objective",id:"objective",level:2},{value:"Controls",id:"controls",level:2},{value:"The Game",id:"the-game",level:2}];function g(e){const n={h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"mini-game-magnetic-maze-",children:"Mini Game: Magnetic Maze \ud83e\udde9"})}),"\n",(0,s.jsx)(n.h2,{id:"objective",children:"Objective"}),"\n",(0,s.jsx)(n.p,{children:"Guide the iron ball through the maze to the exit using the magnets."}),"\n",(0,s.jsx)(n.h2,{id:"controls",children:"Controls"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Enter"}),": Start the game"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"R"}),": Restart the game after winning"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Mouse"}),": Click and drag magnets to move them"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"the-game",children:"The Game"}),"\n",(0,s.jsx)(o.A,{children:()=>(0,s.jsx)(d,{canvasH:480,canvasW:800})})]})}function x(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(g,{...e})}):g(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var i=t(6540);const s={},a=i.createContext(s);function o(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(a.Provider,{value:n},e.children)}},9912:(e,n,t)=>{t.d(n,{G:()=>a,j:()=>s});var i=t(1468);const s=()=>(0,i.wA)(),a=i.d4}}]);